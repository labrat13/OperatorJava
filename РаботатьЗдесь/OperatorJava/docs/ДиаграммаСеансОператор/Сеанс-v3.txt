================================
Документация проект OperatorJava
(C) 2022 Павел Селяков.
================================
Версия 3: Базовая схема с событиями + стартап и финал.
Коды событий описаны в документе СписокСобытий.txt.
Процессы описаны в документе СеансОператор.txt.

1. Создание объекта Движка Engine
  - Engine()

2. Инициализация движка:
  - Init()
    - С1 - Начата процедура инициализации сеанса.
    - инициализация подсистем Оператор.
    - С2 - Завершена процедура инициализации сеанса
    - если С3 то завершение работы Оператор.

3. Запуск цикла обработки запросов:
  - ProcessLoop()
    - выполнить СтартоваяПроцедура.
    - вывести приглашение пользователю.
    - ожидать ввод запроса от пользователя.
    - С10 Поступил новый запрос от пользователя.
    - С11 Исполнение запроса успешно завершено.
    - если С12, то переход на следующую итерацию цикла.
    - если С13, то завершение работы Оператор.
    - если С14, то переход на следующую итерацию цикла.
    - конец цикла обработки запроса
    - выполнить ФинишнаяПроцедура.	

4. Завершение движка:
  - Exit() 
    - С90 Начало процедуры завершения сеанса.
    - Завершение подсистем Оператор.
    - С91 Завершение процедуры завершения сеанса.
    - если С92, то завершение работы Оператор.

5. Завершение приложения Оператор.

=========================
СтартоваяПроцедура:
- событие начала стартапа (todo: указать код события)
- вывести сообщение о начале процедуры startUp.
  //- скрыть стартап не получится - процедуры же должны выводить на экран информацию итп.
  //- возможность отменить стартап - полезная штука в некоторых ситуациях, 
  //  но она требует реализовать процедуру вопрос-ответ с таймаутом и дефолтовым ответом при истечении таймаута.
  //  Я пока не придумал эту возможность.
  //  - TODO: можно в настройках указать флаг, выполнять ли стартап, и учитывать его здесь.
  //    Это быстро и дешево, вместо диалога с таймаутом. 
  //  - todo: запроектировать диалог вопрос-ответ с таймаутом и значением при истечении таймаута.
- если в ФайлНастроекОператор поле onStartUp существует и не пустое, то:
  - строка содержимого поля запускается на исполнение как команда либо как путь Процедуры.
    - Если строка - путь процедуры, то запускается Процедура.
      Иначе - считать строку командой и передать в МеханизмИсполненияКоманд Оператор.
- иначе:
  - выбрать из таблицы БД ТаблицаЗначенийОператор (todo: придумать более лучшее название для таблицы) 
    записи по ключу OnStartUp - может быть несколько значений с одинаковым ключом.
  - строка содержимого поля value запускается на исполнение как команда либо как путь Процедуры.
    - Если строка - путь процедуры, то запускается Процедура.
      - todo: нужна функция для запуска Процедуры без аргументов по ее пути.
      Иначе - считать строку командой и передать в МеханизмИсполненияКоманд Оператор.  
- todo: пост-обработка для КодЗавершенияПроцедуры здесь не выполняется?
- событие завершения стартапа (TODO: указать код события)
- вывести сообщение о завершении процедуры startUp.

==============================
ФинишнаяПроцедура:
- событие начала финиша (todo: указать код события)
- вывести сообщение о начале процедуры finish.
  //- скрыть финиш не получится - процедуры же должны выводить на экран информацию итп.
  //- возможность отменить финиш - полезная штука в некоторых ситуациях, 
  //   но она требует реализовать процедуру вопрос-ответ с таймаутом и дефолтовым ответом при истечении таймаута.
  //   Я пока не придумал эту возможность. 
  //  - TODO: можно в настройках указать флаг, выполнять ли финиш, и учитывать его здесь.
  //    Это быстро и дешево, вместо диалога с таймаутом.
  //  - TODO: запроектировать диалог вопрос-ответ с таймаутом и значением при истечении таймаута.
- если в ФайлНастроекОператор поле onFinish существует и не пустое, то:
  - строка содержимого поля запускается на исполнение как команда либо как путь Процедуры.
    - Если строка - путь процедуры, то запускается Процедура.
      Иначе - считать строку командой и передать в МеханизмИсполненияКоманд Оператор.
- иначе:
  - выбрать из таблицы БД ТаблицаЗначенийОператор (todo: придумать более лучшее название для таблицы) 
    записи по ключу OnFinish - может быть несколько значений с одинаковым ключом.
  - строка содержимого поля value запускается на исполнение как команда либо как путь Процедуры.
    - Если строка - путь процедуры, то запускается Процедура.
      Иначе - считать строку командой и передать в МеханизмИсполненияКоманд Оператор.  
- пост-обработка для КодЗавершенияПроцедуры здесь не выполняется!
- событие завершения стартапа (TODO: указать код события)
- вывести сообщение о завершении процедуры finish.

=================================
